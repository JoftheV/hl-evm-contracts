// SPDX-License-Identifier: GPL-3.0

/**

             #@@@@                                         @@@@@            
           @@@@@@@@@.                                    @@@@@@@@@          
           @@@@@@@@@.                                    @@@@@@@@@          
           @@@@@@@@@.      @@@@@              %@@@@      @@@@@@@@@          
             #@@@@           @@@@@         @@@@@           @@@@@            
                                 @@@@@@@@@@@@                               
      /////////////                                        ////////////     
     ///////////////.                                   //////////////////  
    /////////////////                                   //////////////////  
    /////////////////                                    ////////////////   
      /////////////                                        ////////////     

*/

/* solhint-disable max-line-length */

pragma solidity 0.8.10;

import "@chainlink/contracts/src/v0.8/interfaces/AggregatorV2V3Interface.sol";
import "./interfaces/IFiniOracle.sol";
import "@openzeppelin/contracts/utils/Strings.sol";

// import "hardhat/console.sol";

contract FiniSketch {
    using Strings for uint256;
    using Strings for int256;

    address public finiOracleContract = 0xfA52EC029c47AfeD7Ff10DcF478149342441CEb4;

    // svgPart1
    // font
    // svgPart2
    // color
    // svgPart3
    // text part 1 (variable)
    // svgPart4
    // text part 2 (variable)
    // svgPart5
    // image1
    // svgPart6
    // image2
    // svgPart7
    // fini logo
    // highlight logo

    string public svgPart1 =
        '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xhtml="http://www.w3.org/1999/xhtml" width="290" height="500" viewBox="0 0 290 500"><style>';
    string public svgPart2 =
        '@keyframes dance{0%,50%{visibility:hidden;display:none}100%{visibility:visible;display:block}}.image1,.image2{visibility:hidden;animation:2s infinite dance}#text1,#text2{animation:8s infinite dance}#text2{display:block;animation-delay:4s}.image2{visibility:visible;animation-delay:1s}#text1,#text2{font-family:"8bit";font-size:23px;color:#fff;text-align:left;margin:0}</style><defs><filter id="f1"><feImage result="p3" id="f1" style="" xlink:href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMjkwJyBoZWlnaHQ9JzUwMCcgdmlld0JveD0nMCAwIDI5MCA1MDAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PGNpcmNsZSBjeD0nMTYxJyBjeT0nMjYyJyByPScxMDBweCcgZmlsbD0nd2hpdGUnLz48L3N2Zz4="/>      <feBlend mode="overlay" in="SourceGraphic"/><feBlend mode="overlay" in2="p3" result="blendOut"/><feGaussianBlur in="blendOut" stdDeviation="42"/></filter></defs><g><rect style="filter: url(#f1)" x="0px" y="0px" width="290px" height="500px" fill="#';
    string public svgPart3 = '"/></g><foreignObject x="40" y="40" width="220" height="200" ><xhtml:p id="text1">';
    string public svgPart4 = '</xhtml:p><xhtml:p id="text2">';
    string public svgPart5 =
        '</xhtml:p></foreignObject><g mask="url(#fade-symbol)"></g><image class="image1" width="300" height="300" x="-5" y="140" xlink:href="data:image/png;base64,';
    string public svgPart6 =
        '"/><image class="image2" width="300" height="300" x="-5" y="140" xlink:href="data:image/png;base64,';
    string public svgPart7 = '"/>';

    // string public finiLogo = '<g clip-path="url(#clip0_43_5646)" style="transform: scale(0.16) translate(1260px, 2750px);"><path d="M86.8318 11.0554C80.1729 10.9911 73.0316 11.1759 64.9734 11.6338C58.3226 12.0114 50.5862 12.5015 42.914 13.5621C22.2218 16.4062 8.92024 28.6908 3.37121 50.0541C1.62608 56.7789 0.636908 64.4035 0.427814 72.727C-0.263804 100.421 -0.513108 118.876 2.84848 148.105C4.22367 160.06 10.3678 167.653 21.112 170.666C23.6613 171.381 26.1624 171.734 28.567 171.734C32.958 171.734 37.0192 170.545 40.3969 168.223C45.5679 164.664 48.7767 158.662 49.4362 151.335C49.7096 148.322 49.6372 145.301 49.5648 142.377C49.5488 141.839 49.5407 141.3 49.5327 140.77C55.4838 140.521 61.4349 140.288 67.378 140.055C71.9218 139.878 76.4575 139.693 81.0013 139.509C81.3149 139.493 81.6366 139.484 81.9583 139.476C83.2933 139.444 84.6765 139.404 86.116 139.091C96.8361 136.737 104.951 126.549 104.589 115.904C104.219 104.977 95.3242 95.0385 84.765 93.7449C78.3554 92.9656 71.8333 93.1423 65.5283 93.3191H65.1745C60.5423 93.4557 55.8457 93.8333 51.3019 94.1948C50.1921 94.2832 49.0904 94.3716 47.9725 94.46C47.9082 89.9848 47.8278 87.3656 47.7634 85.0598C47.6669 81.7978 47.5865 79.2188 47.5865 72.8797C47.5865 70.5337 47.9484 67.9707 48.6802 65.0382C49.7498 60.7639 52.0177 58.924 56.4971 58.7151C60.7996 58.5062 65.1825 58.3536 69.4287 58.2009C75.1145 58.0001 80.9932 57.7912 86.7916 57.4538C99.3774 56.7226 107.025 51.0022 109.526 40.4531C111.191 33.423 109.502 26.0234 104.902 20.1583C100.423 14.4378 93.8364 11.1196 86.8398 11.0473L86.8318 11.0554Z" fill="#70B8EC"/><path d="M295.611 78.9699C289.274 65.5204 279.503 56.0077 266.555 50.681C245.525 42.036 225.131 43.1849 205.926 54.0956C187.647 64.484 177.94 79.6769 177.071 99.2567C176.967 101.667 176.854 103.957 176.75 106.158C176.002 122.147 175.455 133.7 176.951 151.448C177.988 163.845 186.095 172.586 197.587 173.719C208.709 174.804 218.729 167.083 220.893 155.722C221.729 151.303 221.56 146.788 221.399 142.417C221.351 141.14 221.303 139.862 221.279 138.593C221.19 133.427 221.013 129.627 220.836 125.947C220.579 120.516 220.362 115.824 220.515 108.207C220.74 97.2159 225.171 93.9781 231.765 92.4837C234.532 91.857 236.872 91.624 238.915 91.7526C244.673 92.1382 254.34 94.5807 254.428 106.672C254.444 109.235 254.436 110.272 254.428 111.123C254.428 112.232 254.42 113.036 254.468 116.394C254.525 120.106 254.629 123.874 254.726 127.514C254.822 131.041 254.919 134.68 254.975 138.255C255.007 140.071 254.967 141.943 254.927 143.751C254.862 146.924 254.798 150.203 255.063 153.472C255.61 160.021 258.779 165.588 264.223 169.557C268.172 172.434 272.426 173.888 276.817 173.888C280.034 173.888 283.331 173.108 286.636 171.542C294.526 167.806 299.078 160.961 299.447 152.251C299.761 144.763 299.689 137.171 299.624 129.835C299.6 127.602 299.584 125.368 299.568 123.135H299.898V120.323C299.898 117.519 299.914 115.727 299.93 114.225C299.954 111.493 299.97 109.685 299.866 104.535C299.689 96.0349 299.512 87.2373 295.611 78.9619V78.9699Z" fill="#EBB9CB"/><path d="M164.76 119.752C164.969 115.622 165.242 104.551 165.234 98.4526C165.234 97.0948 165.218 95.3112 165.122 93.5597C164.88 89.3657 163.634 85.0352 161.519 81.0422C156.549 71.6661 144.679 66.9499 133.902 70.0833C124.992 72.6704 116.274 80.8574 116.877 93.3026C117.432 104.776 117.464 116.498 117.488 127.834C117.496 131.9 117.513 135.965 117.545 140.03C117.561 141.621 117.472 143.22 117.384 144.899C117.255 147.245 117.127 149.664 117.279 152.114C118.011 163.732 127.895 172.738 140.272 173.076C140.521 173.076 140.762 173.084 141.003 173.084C153.533 173.084 163.779 164.399 164.478 153.038C164.937 145.63 164.824 138.11 164.72 130.847C164.695 129.176 164.671 127.497 164.655 125.826C164.631 123.656 164.671 121.664 164.768 119.744L164.76 119.752Z" fill="#70B970"/><path d="M343.8 71.739C335.967 68.7181 327.579 69.8349 320.784 74.8162C314.342 79.5323 310.626 86.9721 311.085 94.2271C311.857 106.367 311.857 118.804 311.857 130.832C311.857 136.311 311.857 141.983 311.929 147.559C311.937 148.282 311.929 149.013 311.921 149.753C311.889 152.332 311.857 154.991 312.557 157.618C315.243 167.605 324.451 174 335.597 174C336.771 174 337.961 173.928 339.168 173.783C350.338 172.45 358.983 162.824 359.281 151.408C359.458 144.627 359.418 137.749 359.369 131.097C359.353 129.072 359.345 127.047 359.337 125.031H359.498V122.219C359.498 119.343 359.506 116.466 359.522 113.59C359.546 107.074 359.579 100.333 359.458 93.6969C359.289 83.9673 353.137 75.3545 343.784 71.739H343.8Z" fill="#DB653F"/><path d="M363.029 20.19C361.493 17.2655 358.493 15.514 355.155 15.5864L341.042 15.9479C340.068 15.9881 339.119 15.5221 338.54 14.7428L330.209 3.49465C328.255 0.851351 325.006 -0.434146 321.757 0.136293C318.532 0.698698 315.95 2.98849 315.017 6.09778L311.037 19.4348C310.763 20.3427 310.047 21.0658 309.123 21.3631L295.708 25.6695C292.564 26.6738 290.32 29.3171 289.854 32.5549C289.387 35.7928 290.795 38.9422 293.529 40.7901L305.182 48.6718C305.986 49.2101 306.461 50.1019 306.469 51.05L306.509 64.9575C306.517 68.1953 308.342 71.1118 311.278 72.558C312.508 73.1686 313.827 73.4659 315.138 73.4659C316.98 73.4659 318.805 72.8713 320.341 71.7063L331.52 63.2381C332.3 62.6516 333.329 62.4748 334.27 62.7802L347.708 67.0705C350.877 68.0828 354.271 67.2312 356.571 64.853C358.823 62.515 359.538 59.1647 358.437 56.1116L353.692 42.9996C353.37 42.1158 353.515 41.1276 354.07 40.3643L362.337 29.1082C364.259 26.489 364.516 23.0744 363.012 20.19H363.029Z" fill="#F2D667"/><path d="M141.25 11.0393H141.114C126.324 11.0393 114.631 22.7212 114.47 37.6892C114.398 44.9041 117.092 51.5967 122.07 56.5459C127.032 61.4709 133.811 64.2267 141.17 64.299C141.266 64.299 141.363 64.299 141.451 64.299C148.56 64.299 155.179 61.6396 160.109 56.803C165.143 51.8618 167.942 45.1049 167.998 37.7937C168.046 30.7235 165.328 24.0549 160.35 19.0174C155.292 13.9075 148.512 11.0714 141.258 11.0312L141.25 11.0393Z" fill="#70B970"/></g>';
    // string public highlightLogo = '<path style="transform: translate(35px, 450px) scale(1)" fill-rule="evenodd" clip-rule="evenodd" d="M0.253906 0V19.6625H18.6875C24.1171 19.6625 28.5187 15.2609 28.5187 9.83125C28.5187 4.4016 24.1171 0 18.6875 0H0.253906ZM17.6429 2.15901C13.8611 2.66905 10.9454 5.90965 10.9454 9.83125C10.9454 13.7528 13.8611 16.9934 17.6429 17.5035V2.15901ZM19.7321 17.5035C23.5139 16.9934 26.4296 13.7528 26.4296 9.83125C26.4296 5.90965 23.5139 2.66905 19.7321 2.15901V17.5035ZM12.6277 17.5734C10.3316 15.7737 8.85625 12.9748 8.85625 9.83125C8.85625 6.68774 10.3316 3.88881 12.6277 2.08914H2.34305V17.5734H12.6277Z" fill="white"></path>';

    string public description = "An on chain Fini face.";
    string public name = "Fini Faces";

    address[] public oracleAddresses = [
        0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419, // eth
        0xF4030086522a5bEEa4988F8cA5B36dbC97BeE88c, // btc
        0xBcE206caE7f0ec07b545EddE332A47C2F75bbeb3, // jpy
        0x5c0Ab2d9b5a7ed9f470386e82BB36A3613cDd4b5, // gbp
        0xb49f677943BC038e9857d61E7d053CaA2C1734C1, // eur
        0x449d117117838fFA61263B61dA6301AA2a88B13A, // chf
        0x77F9710E7d0A19669A13c055F62cd80d313dF022, // aud
        0x2c1d072e956AFFC0D435Cb7AC38EF18d24d9127c, // link
        0x6AF09DF7563C363B5763b9102712EbeD3b9e859B, // ltc
        0xdbd020CAeF83eFd542f4De03e3cF0C28A4428bd5, // comp
        0x14e613AC84a31f709eadbdF89C6CC390fDc9540A, // bnb
        0x553303d460EE0afB37EdFf9bE42922D8FF63220e, // uni
        0xAE48c91dF1fE419994FFDa27da09D5aC69c30f55, // ada
        0xCd627aA160A6fA45Eb793D19Ef54f5062F20f33f, // crv
        0x547a514d5e3769680Ce22B2361c10Ea13619e8a9, // aave
        0xA027702dbb89fbd58938e4324ac03B58d812b0E1, // yfi
        0x1C07AFb8E2B827c5A4739C6d59Ae3A5035f28734, // dot
        0x7bAC85A8a13A4BcD8abb3eB7d6b4d632c5a57676, // matic
        0xa34317DB73e77d453b1B8d04550c44D10e981C8e, // cad
        0xeF8A4aF35cd47424672E3C590aBD37FBB7A7759a, // cny
        0xe25277fF4bbF9081C75Ab0EB13B4A13a721f3E13, // sgd
        0x01435677FB11763550905594A16B645847C1d0F3, // krw
        0xB09fC5fD3f11Cf9eb5E1C5Dba43114e3C9f477b5, // try,
        0xc929ad75B72593967DE83E7F7Cda0493458261D9, // 1inch
        0x35E3f7E558C04cE7eEE1629258EcbbA03B36Ec56, // sand
        0x3977CFc9e4f29C184D4675f4EB8e0013236e5f3e, // nzd
        0x2465CefD3b488BE410b941b1d4b2767088e2A028, // doge
        0xCc70F09A6CC17553b2E31954cD36E4A2d89501f7, // sushi
        0xFF3EEb22B5E3dE6e705b44749C2559d704923FD7, // avax
        0x4ffC43a60e009B551865A93d232E33Fce9f01507, // sol
        0x8c110B94C5f1d347fAcF5E1E938AB2db60E3c9a8, // spell
        0xD10aBbC76679a20055E167BB80A24ac851b37056, // ape
        0xA8B9A447C73191744D5B79BcE864F343455E1150, // azuki
        0xFaA8F6073845DBe5627dAA3208F78A3043F99bcA, // cryptoadz
        0xF49f8F5b931B0e4B4246E4CcA7cD2083997Aa83d, // cool cats
        0x021264d59DAbD26E7506Ee7278407891Bb8CDCCc, // clonex
        0x352f2Bc3039429fC2fe62004a1575aE74001CfcE, // BAYC
        0xA97477aB5ab6ED2f6A2B5Cbe59D71e88ad334b90, // beanz
        0xEb0adf5C06861d6c07174288ce4D0a8128164003, // cake
        0x01B6710B01cF3dd8Ae64243097d91aFb03728Fdd, // cryptopunks
        0x027828052840a43Cc2D0187BcfA6e3D6AcE60336, // doodles
        0x9cd36E0E8D3C27d630D00406ACFC3463154951Af, // moonbirds
        0x1823C89715Fe3fB96A24d11c917aCA918894A090, // mayc
        0x6e3A4376B4C8D3ba49602f8542D9D3C4A87ba901, // otherdeed
        0x9f2ba149c2A0Ee76043d83558C4E79E9F3E5731B, // pudgey penguins
        0x9a51192e065ECC6BDEafE5e194ce54702DE4f1f5, // pce index
        0x35bf6767577091E7f04707c0290b3f889e968307, // veefriends
        0xEC8761a0A73c34329CA5B1D3Dc7eD07F30e836e2, // total marketcap index
        0xF4E1B57FB228879D057ac5AE33973e8C53e4A0e0, // cspx
        0x32d1463EB53b73C095625719Afa544D5426354cB, // ib01
        0xd27e6D02b72eB6FCe04Ad5690C419196B4EF2885, // ibta
        0x214eD9Da11D2fbe465a6fc601a91E62EbEc1a0D6, // xau
        0x379589227b15F1a12195D3f2d90bBc9F31f95235, // xag
        0x169E633A2D1E6c10dD91238Ba11c4A708dfEF37C, // gas
        0xec236454209A76a6deCdf5C1183aE2Eb5e82a829, // bonk
        0x5C8D8AaB4ffa4652753Df94f299330Bb4479bF85, // highstreet
        0x652Ac4468688f277fB84b26940e736a20A87Ac2d, // eurr reserves
        0xAF2Ce23Ef2dD9BB6F03668cA6eAd55aEa1e56FBa, // hope por
        0x60cbE8D88EF519cF3C62414D76f50818D211fea1, // swell eth por
        0xad4A9bED9a5E2c1c9a6E43D35Db53c83873dd901 // stbt por
    ];

    string public finiStars1 =
        "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ZnkAMjAyMy0xMi0yMlQyMzo0MTozNiswMDowMOgWeRsAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjMtMTItMjJUMjM6NDE6MzYrMDA6MDC/A1jEAAAAFHRFWHRkYzpmb3JtYXQAaW1hZ2UvdGlmZiR7P8MAAAARdEVYdGV4aWY6Q29sb3JTcGFjZQAxD5sCSQAAABh0RVh0ZXhpZjpQaXhlbFhEaW1lbnNpb24AMjUy1w1rXQAAABh0RVh0ZXhpZjpQaXhlbFlEaW1lbnNpb24AMjUySgKKKwAAADh0RVh0aWNjOmNvcHlyaWdodABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1QYWNrYXJkIENvbXBhbnn5V3k3AAAAIXRFWHRpY2M6ZGVzY3JpcHRpb24Ac1JHQiBJRUM2MTk2Ni0yLjFXrdpHAAAAJnRFWHRpY2M6bWFudWZhY3R1cmVyAElFQyBodHRwOi8vd3d3LmllYy5jaBx/AEwAAAA3dEVYdGljYzptb2RlbABJRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0JEU0ipAAAAFXRFWHRwaG90b3Nob3A6Q29sb3JNb2RlADNWArNAAAAAJnRFWHRwaG90b3Nob3A6SUNDUHJvZmlsZQBzUkdCIElFQzYxOTY2LTIuMRwvbAsAAAAVdEVYdHRpZmY6YWxwaGEAYXNzb2NpYXRlZGh/o/4AAAAPdEVYdHRpZmY6ZW5kaWFuAG1zYlR1fXQAAAAUdEVYdHRpZmY6cGhvdG9tZXRyaWMAUkdCsyBJ3wAAABd0RVh0dGlmZjpyb3dzLXBlci1zdHJpcAAyNTKOq7QMAAAALXRFWHR0aWZmOnNvZnR3YXJlAEFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCkHuFwnAAAAInRFWHR0aWZmOnRpbWVzdGFtcAAyMDE2OjA3OjI1IDIwOjQ1OjA3sPp7/wAAACh0RVh0eG1wOkNyZWF0ZURhdGUAMjAxNi0wNy0yNVQyMDo0NTowNy0wNDowMA7oPy8AAAAvdEVYdHhtcDpDcmVhdG9yVG9vbABBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gp6wwOCQAAACp0RVh0eG1wOk1ldGFkYXRhRGF0ZQAyMDE2LTA3LTI1VDIwOjQ1OjA3LTA0OjAwhrJQqAAAACh0RVh0eG1wOk1vZGlmeURhdGUAMjAxNi0wNy0yNVQyMDo0NTowNy0wNDowMLoWAxYAAAA5dEVYdHhtcE1NOkRvY3VtZW50SUQAeG1wLmRpZDo3QjMzMzVBNjA3MjA2ODExODIyQUExRkFBOTk1Nzg1Q0YhDLsAAAA5dEVYdHhtcE1NOkluc3RhbmNlSUQAeG1wLmlpZDo3QzMzMzVBNjA3MjA2ODExODIyQUExRkFBOTk1Nzg1Q/XUJN8AAABBdEVYdHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRAB4bXAuZGlkOjdCMzMzNUE2MDcyMDY4MTE4MjJBQTFGQUE5OTU3ODVD79suewAAAABJRU5ErkJggg==";
    string public finiStars2 =
        "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Ux4RIvgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMTItMjJUMjM6NDI6MzArMDA6MDARrE+eAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTEyLTIyVDIzOjQyOjMwKzAwOjAwYPH3IgAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0xMi0yMlQyMzo0MjozMCswMDowMDfk1v0AAAAUdEVYdGRjOmZvcm1hdABpbWFnZS90aWZmJHs/wwAAABF0RVh0ZXhpZjpDb2xvclNwYWNlADEPmwJJAAAAGHRFWHRleGlmOlBpeGVsWERpbWVuc2lvbgAyNTLXDWtdAAAAGHRFWHRleGlmOlBpeGVsWURpbWVuc2lvbgAyNTJKAoorAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAVdEVYdHBob3Rvc2hvcDpDb2xvck1vZGUAM1YCs0AAAAAmdEVYdHBob3Rvc2hvcDpJQ0NQcm9maWxlAHNSR0IgSUVDNjE5NjYtMi4xHC9sCwAAABV0RVh0dGlmZjphbHBoYQBhc3NvY2lhdGVkaH+j/gAAAA90RVh0dGlmZjplbmRpYW4AbXNiVHV9dAAAABR0RVh0dGlmZjpwaG90b21ldHJpYwBSR0KzIEnfAAAAF3RFWHR0aWZmOnJvd3MtcGVyLXN0cmlwADI1Mo6rtAwAAAAtdEVYdHRpZmY6c29mdHdhcmUAQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKQe4XCcAAAAidEVYdHRpZmY6dGltZXN0YW1wADIwMTY6MDc6MjUgMjA6NDU6MDew+nv/AAAAKHRFWHR4bXA6Q3JlYXRlRGF0ZQAyMDE2LTA3LTI1VDIwOjQ1OjA3LTA0OjAwDug/LwAAAC90RVh0eG1wOkNyZWF0b3JUb29sAEFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCnrDA4JAAAAKnRFWHR4bXA6TWV0YWRhdGFEYXRlADIwMTYtMDctMjVUMjA6NDU6MDctMDQ6MDCGslCoAAAAKHRFWHR4bXA6TW9kaWZ5RGF0ZQAyMDE2LTA3LTI1VDIwOjQ1OjA3LTA0OjAwuhYDFgAAADl0RVh0eG1wTU06RG9jdW1lbnRJRAB4bXAuZGlkOkVFMDRGNDlFMDcyMDY4MTE4MjJBQTFGQUE5OTU3ODVDSeZ99QAAADl0RVh0eG1wTU06SW5zdGFuY2VJRAB4bXAuaWlkOkVGMDRGNDlFMDcyMDY4MTE4MjJBQTFGQUE5OTU3ODVD59yEMwAAAEF0RVh0eG1wTU06T3JpZ2luYWxEb2N1bWVudElEAHhtcC5kaWQ6RUUwNEY0OUUwNzIwNjgxMTgyMkFBMUZBQTk5NTc4NUPgHF81AAAAAElFTkSuQmCC";

    string public finiCope1 =
        "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aWZmOmFscGhhAGFzc29jaWF0ZWRof6P+AAAAD3RFWHR0aWZmOmVuZGlhbgBtc2JUdX10AAAAFHRFWHR0aWZmOnBob3RvbWV0cmljAFJHQrMgSd8AAAAXdEVYdHRpZmY6cm93cy1wZXItc3RyaXAAMjUyjqu0DAAAAC10RVh0dGlmZjpzb2Z0d2FyZQBBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpB7hcJwAAACJ0RVh0dGlmZjp0aW1lc3RhbXAAMjAxNjowNzoyNSAyMDo0NDoxMxYw6cIAAAAodEVYdHhtcDpDcmVhdGVEYXRlADIwMTYtMDctMjVUMjA6NDQ6MTMtMDQ6MDDZz3CcAAAAL3RFWHR4bXA6Q3JlYXRvclRvb2wAQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKesMDgkAAAAqdEVYdHhtcDpNZXRhZGF0YURhdGUAMjAxNi0wNy0yNVQyMDo0NDoxMy0wNDowMFGVHxsAAAAodEVYdHhtcDpNb2RpZnlEYXRlADIwMTYtMDctMjVUMjA6NDQ6MTMtMDQ6MDBtMUylAAAAOXRFWHR4bXBNTTpEb2N1bWVudElEAHhtcC5kaWQ6NzY0OTk4ODUwNzIwNjgxMTgyMkFBMUZBQTk5NTc4NUPjqt1QAAAAOXRFWHR4bXBNTTpJbnN0YW5jZUlEAHhtcC5paWQ6RDZEQkI5ODUwNzIwNjgxMTgyMkFBMUZBQTk5NTc4NUNA829jAAAAQXRFWHR4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQAeG1wLmRpZDo3NjQ5OTg4NTA3MjA2ODExODIyQUExRkFBOTk1Nzg1Q0pQ/5AAAAAASUVORK5CYII=";
    string public finiCope2 =
        "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aWZmOmFscGhhAGFzc29jaWF0ZWRof6P+AAAAD3RFWHR0aWZmOmVuZGlhbgBtc2JUdX10AAAAFHRFWHR0aWZmOnBob3RvbWV0cmljAFJHQrMgSd8AAAAXdEVYdHRpZmY6cm93cy1wZXItc3RyaXAAMjUyjqu0DAAAAC10RVh0dGlmZjpzb2Z0d2FyZQBBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpB7hcJwAAACJ0RVh0dGlmZjp0aW1lc3RhbXAAMjAxNjowNzoyNSAyMDo0NDoxNIhUfGEAAAAodEVYdHhtcDpDcmVhdGVEYXRlADIwMTYtMDctMjVUMjA6NDQ6MTQtMDQ6MDAcaE4SAAAAL3RFWHR4bXA6Q3JlYXRvclRvb2wAQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKesMDgkAAAAqdEVYdHhtcDpNZXRhZGF0YURhdGUAMjAxNi0wNy0yNVQyMDo0NDoxNC0wNDowMJQyIZUAAAAodEVYdHhtcDpNb2RpZnlEYXRlADIwMTYtMDctMjVUMjA6NDQ6MTQtMDQ6MDColnIrAAAAOXRFWHR4bXBNTTpEb2N1bWVudElEAHhtcC5kaWQ6QjMxRDIxODYwNzIwNjgxMTgyMkFBMUZBQTk5NTc4NUPjUatrAAAAOXRFWHR4bXBNTTpJbnN0YW5jZUlEAHhtcC5paWQ6QjQxRDIxODYwNzIwNjgxMTgyMkFBMUZBQTk5NTc4NUN29PHpAAAAQXRFWHR4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQAeG1wLmRpZDpCMzFEMjE4NjA3MjA2ODExODIyQUExRkFBOTk1Nzg1Q0qriasAAAAASUVORK5CYII=";

    string public finiNeutral1 =
        "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ci1zdHJpcAAyNTKOq7QMAAAALXRFWHR0aWZmOnNvZnR3YXJlAEFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCkHuFwnAAAAInRFWHR0aWZmOnRpbWVzdGFtcAAyMDE2OjA3OjI1IDIwOjQ0OjU1mz+J8wAAACh0RVh0eG1wOkNyZWF0ZURhdGUAMjAxNi0wNy0yNVQyMDo0NDo1NS0wNDowMD5VS1wAAAAvdEVYdHhtcDpDcmVhdG9yVG9vbABBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gp6wwOCQAAACp0RVh0eG1wOk1ldGFkYXRhRGF0ZQAyMDE2LTA3LTI1VDIwOjQ0OjU1LTA0OjAwtg8k2wAAACh0RVh0eG1wOk1vZGlmeURhdGUAMjAxNi0wNy0yNVQyMDo0NDo1NS0wNDowMIqrd2UAAAA5dEVYdHhtcE1NOkRvY3VtZW50SUQAeG1wLmRpZDpFNjA0RjQ5RTA3MjA2ODExODIyQUExRkFBOTk1Nzg1Q7wk7TUAAAA5dEVYdHhtcE1NOkluc3RhbmNlSUQAeG1wLmlpZDpFNzA0RjQ5RTA3MjA2ODExODIyQUExRkFBOTk1Nzg1Qw/RxVEAAABBdEVYdHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRAB4bXAuZGlkOkU2MDRGNDlFMDcyMDY4MTE4MjJBQTFGQUE5OTU3ODVDFd7P9QAAAABJRU5ErkJggg==";
    string public finiNeutral2 =
        "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cm93cy1wZXItc3RyaXAAMjUyjqu0DAAAAC10RVh0dGlmZjpzb2Z0d2FyZQBBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpB7hcJwAAACJ0RVh0dGlmZjp0aW1lc3RhbXAAMjAxNjowNzoyNSAyMDo0NDo1NZs/ifMAAAAodEVYdHhtcDpDcmVhdGVEYXRlADIwMTYtMDctMjVUMjA6NDQ6NTUtMDQ6MDA+VUtcAAAAL3RFWHR4bXA6Q3JlYXRvclRvb2wAQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKesMDgkAAAAqdEVYdHhtcDpNZXRhZGF0YURhdGUAMjAxNi0wNy0yNVQyMDo0NDo1NS0wNDowMLYPJNsAAAAodEVYdHhtcDpNb2RpZnlEYXRlADIwMTYtMDctMjVUMjA6NDQ6NTUtMDQ6MDCKq3dlAAAAOXRFWHR4bXBNTTpEb2N1bWVudElEAHhtcC5kaWQ6NTZEQ0JGOUUwNzIwNjgxMTgyMkFBMUZBQTk5NTc4NUPZ0un9AAAAOXRFWHR4bXBNTTpJbnN0YW5jZUlEAHhtcC5paWQ6NTdEQ0JGOUUwNzIwNjgxMTgyMkFBMUZBQTk5NTc4NUNqJ8GZAAAAQXRFWHR4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQAeG1wLmRpZDo1NkRDQkY5RTA3MjA2ODExODIyQUExRkFBOTk1Nzg1Q3Aoyz0AAAAASUVORK5CYII=";

    string public font =
        "@font-face {font-family: '8bit'; src: url('data:application/font-woff2;charset=utf-8;base64,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') format('woff2');}";

    string[] public colors = ["5dd5a5", "6ab4ff", "ff8445", "f1b3d1", "ffd88d", "efaf35", "ff564c", "24fff7"];

    function tokenURI(uint256 tokenId) public view returns (string memory) {
        (int256 delta, int256 price, AggregatorV2V3Interface feed) = getDataForTokenId(tokenId);

        string memory textSnippets = getStringsForData(delta, price, feed);

        string memory image1;
        string memory image2;

        if (delta > 100) {
            image1 = finiStars1;
            image2 = finiStars2;
        } else if (delta < -100) {
            image1 = finiCope1;
            image2 = finiCope2;
        } else {
            image1 = finiNeutral1;
            image2 = finiNeutral2;
        }

        string memory svg = string(
            abi.encodePacked(
                svgPart1,
                font,
                svgPart2,
                getColorForTokenId(tokenId),
                textSnippets,
                image1,
                svgPart6,
                image2,
                getBottomOfSVG()
            )
        );
        return svg;
    }

    function getDataForTokenId(uint256 tokenId) public view returns (int256, int256, AggregatorV2V3Interface) {
        return getDataForFeedAddress(getOracleAddressForTokenId(tokenId));
    }

    /**
     * @notice Get a % delta for a given feed (oracle) address
     * @return delta This is a % delta * 100, i.e. it must be divided by 100 to
     * get the real %. We're doing this to preserve some precision with the calculation.
     */
    function getDataForFeedAddress(address feedAddress) public view returns (int256, int256, AggregatorV2V3Interface) {
        // first fetch the current price
        AggregatorV2V3Interface feed = AggregatorV2V3Interface(feedAddress);
        int256 latestPrice = feed.latestAnswer();

        // fetch the corresponding previous roundId from 24 hours prior
        uint80 roundId = getPreviousRoundId(feed);

        // now derive the previous price from the roundId
        (, int256 previousPrice, , , ) = feed.getRoundData(roundId);

        // compare the two
        int256 delta = ((latestPrice - previousPrice) * 10000) / previousPrice;

        return (delta, latestPrice, feed);
    }

    function getStringsForData(
        int256 delta,
        int256 latestPrice,
        AggregatorV2V3Interface feed
    ) public view returns (string memory) {
        string memory textOne;

        string memory textTwo = string(
            abi.encodePacked("It's $", intToStringWithDecimals(latestPrice, feed.decimals()))
        );
        string memory feedName = feed.description();

        string memory deltaString = intToStringWithDecimals(delta, 2);

        if (delta > 100) {
            textOne = string(abi.encodePacked("Yay, ", feedName, " is up ", deltaString, "%!!"));
        } else if (delta < -100) {
            textOne = string(abi.encodePacked("Oh no, ", feedName, " is down ", deltaString, "%?!"));
        } else {
            textOne = string(abi.encodePacked("Hm, ", feedName, " has moved ", deltaString, "%"));
        }

        string memory svgSnippet = string(abi.encodePacked(svgPart3, textOne, svgPart4, textTwo, svgPart5));

        return svgSnippet;
    }

    /**
     * @notice Get the roundId for this feed from 24 hours prior.
     * The roundId is used later to fetch an historical price.
     * @dev Keeping this separate so we can debug on mainnet if needed.
     * @param feed contract
     * @return roundId
     */
    function getPreviousRoundId(AggregatorV2V3Interface feed) public view returns (uint80) {
        IFiniOracle finiOracle = IFiniOracle(finiOracleContract);
        // grab the latest roundId
        uint80 latestRound = uint80(feed.latestRound());

        // recurse to find the previous roundId for our frequency
        uint80 roundId = finiOracle.findRoundId(
            block.timestamp - 86400, // target unix timestamp for 24 hrs ago
            feed,
            latestRound,
            0,
            12, // jump sizes for 24 hours
            false
        );

        return roundId;
    }

    function getBottomOfSVG() public view returns (string memory) {
        // return string(abi.encodePacked(svgPart7, finiLogo, highlightLogo, '/svg'));
        return string(abi.encodePacked(svgPart7, "</svg>"));
    }

    /**
     * @notice Returns oracle address for a tokenId.
     * @dev This will be used to determine which token is assigned to which oracle.
     */
    function getOracleAddressForTokenId(uint256 tokenId) public view returns (address) {
        uint256 index = pseudoRandom(tokenId) % oracleAddresses.length;
        return oracleAddresses[index];
    }

    function getColorForTokenId(uint256 tokenId) public view returns (string memory) {
        uint256 index = pseudoRandom(tokenId) % colors.length;
        return colors[index];
    }

    /**
     * @notice Get a pseudorandom idempotent value for each tokenId.
     * @dev This will be used to determine which token is assigned to which oracle.
     */
    function pseudoRandom(uint256 tokenId) public pure returns (uint) {
        return uint(keccak256(abi.encodePacked(tokenId)));
    }

    function intToStringWithDecimals(int256 value, uint8 decimals) public pure returns (string memory) {
        // Check if the value is negative
        bool negative = value < 0;

        // Get what should come before the decimal
        uint256 intValue = negative ? uint256(-value) : uint256(value);
        // string memory intPart = toString(intValue);
        uint256 intPart = intValue / 10 ** decimals;

        // Get what should come after the decimals
        uint256 fractionalPart = (intValue - (intPart * 10 ** decimals));

        // Concatenate the integer and fractional parts
        string memory result;
        if (negative) {
            result = string(abi.encodePacked("-", intPart.toString(), ".", fractionalPart.toString()));
        } else {
            result = string(abi.encodePacked(intPart.toString(), ".", fractionalPart.toString()));
        }

        return result;
    }
}
